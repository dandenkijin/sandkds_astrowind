{"version":3,"file":"Image.DiNQlSfJ.js","sources":["../../src/components/common/Image.astro"],"sourcesContent":["---\nimport type { HTMLAttributes } from 'astro/types';\nimport { findImage } from '~/utils/images';\nimport {\n  getImagesOptimized,\n  astroAssetsOptimizer,\n  unpicOptimizer,\n  isUnpicCompatible,\n  type ImageProps,\n} from '~/utils/images-optimization';\n\ntype Props = ImageProps;\ntype ImageType = {\n  src: string;\n  attributes: HTMLAttributes<'img'>;\n};\n\nconst props = Astro.props;\n\nif (props.alt === undefined || props.alt === null) {\n  throw new Error();\n}\n\nif (typeof props.width === 'string') {\n  props.width = parseInt(props.width);\n}\n\nif (typeof props.height === 'string') {\n  props.height = parseInt(props.height);\n}\n\nif (!props.loading) {\n  props.loading = 'lazy';\n}\n\nif (!props.decoding) {\n  props.decoding = 'async';\n}\n\nconst _image = await findImage(props.src);\n\nlet image: ImageType | undefined = undefined;\n\nif (\n  typeof _image === 'string' &&\n  (_image.startsWith('http://') || _image.startsWith('https://')) &&\n  isUnpicCompatible(_image)\n) {\n  image = await getImagesOptimized(_image, props, unpicOptimizer);\n} else if (_image) {\n  image = await getImagesOptimized(_image, props, astroAssetsOptimizer);\n}\n---\n\n{\n  !image ? (\n    <Fragment />\n  ) : (\n    <img src={image.src} crossorigin=\"anonymous\" referrerpolicy=\"no-referrer\" {...image.attributes} />\n  )\n}\n"],"names":["$$createAstro","$$createComponent","Astro","$$render","$$renderComponent","$$maybeRenderHead","$$addAttribute","$$spreadAttributes"],"mappings":";;;AAAA,MAAA,OAAA,GAAAA,YAAA,8BAAA,CAAA;AAAA,MAAA,OAAA,GAAAC,eAAA,CAAA,OAAA,QAAA,EAAA,SAAA,OAAA,KAAA;AAAA,EAAA,MAAAC,MAAAA,GAAA,QAAA,CAAA,WAAA,CAAA,OAAA,EAAA,SAAA,OAAA,CAAA;AAAA,EAAAA,OAAA,IAAA,GAAA,OAAA;AAiBA,EAAA,MAAM,QAAQA,MAAAA,CAAM,KAAA;AAEpB,EAAA,IAAI,KAAA,CAAM,GAAA,KAAQ,MAAA,IAAa,KAAA,CAAM,QAAQ,IAAA,EAAM;AACjD,IAAA,MAAM,IAAI,KAAA,EAAM;AAClB,EAAA;AAEA,EAAA,IAAI,OAAO,KAAA,CAAM,KAAA,KAAU,QAAA,EAAU;AACnC,IAAA,KAAA,CAAM,KAAA,GAAQ,QAAA,CAAS,KAAA,CAAM,KAAK,CAAA;AACpC,EAAA;AAEA,EAAA,IAAI,OAAO,KAAA,CAAM,MAAA,KAAW,QAAA,EAAU;AACpC,IAAA,KAAA,CAAM,MAAA,GAAS,QAAA,CAAS,KAAA,CAAM,MAAM,CAAA;AACtC,EAAA;AAEA,EAAA,IAAI,CAAC,MAAM,OAAA,EAAS;AAClB,IAAA,KAAA,CAAM,OAAA,GAAU,MAAA;AAClB,EAAA;AAEA,EAAA,IAAI,CAAC,MAAM,QAAA,EAAU;AACnB,IAAA,KAAA,CAAM,QAAA,GAAW,OAAA;AACnB,EAAA;AAEA,EAAA,MAAM,MAAA,GAAS,MAAM,SAAA,CAAU,KAAA,CAAM,GAAG,CAAA;AAExC,EAAA,IAAI,KAAA,GAA+B,MAAA;AAEnC,EAAA,IACE,OAAO,MAAA,KAAW,QAAA,KACjB,MAAA,CAAO,UAAA,CAAW,SAAS,CAAA,IAAK,MAAA,CAAO,UAAA,CAAW,UAAU,CAAA,CAAA,IAC7D,iBAAA,CAAkB,MAAM,CAAA,EACxB;AACA,IAAA,KAAA,GAAQ,MAAM,kBAAA,CAAmB,MAAA,EAAQ,KAAA,EAAO,cAAc,CAAA;AAChE,EAAA,CAAA,MAAA,IAAW,MAAA,EAAQ;AACjB,IAAA,KAAA,GAAQ,MAAM,kBAAA,CAAmB,MAAA,EAAQ,KAAA,EAAO,oBAAoB,CAAA;AACtE,EAAA;AAnDA,EAAA,OAAAC,cAAA,CAAA,EAsDC,CACD,KAAA,GAvDAA,cAAA,CAAA,EAAAC,eAAA,CAAA,QAAA,EAAA,UAAA,EAAA,QAAA,EAAA,EAAA,CAAA,CAAA,CAAA,GAAAD,cAAA,CAAA,EAAAE,eAAA,CAAA,CAAA,CAAA,IAAA,EAAAC,YAAA,CA0Dc,KAAA,CAAM,GAAA,EA1DpB,KAAA,CAAA,CAAA,qDAAA,EA0DKC,gBAAA,CAA0E,KAAA,CAAA,UAAA,CAAA,CAAA,CAAA,CAE/E,CAAA,CAAA;AA5DA,CAAA,EAAA,iGAAA,MAAA;;;;"}